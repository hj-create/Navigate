<!DOCTYPE html>
<html lang="en">
<head>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-45DLQZN7DN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-45DLQZN7DN');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Sessions - Navigate</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/live-sessions.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
       
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <a href="../../index.html">
                    <span class="material-icons">explore</span>
                    <span class="logo-text">Navigate</span>
                </a>
            </div>
            <div class="header-center">
                <h1>Navigate</h1>
            </div>
            <div class="auth-buttons">
                <button class="auth-btn">
                    <span class="material-icons">person_outline</span>
                    <span>Sign In</span>
                </button>
                <button class="auth-btn">
                    <span class="material-icons">person_add</span>
                    <span>Sign Up</span>
                </button>
            </div>
        </div>
    </header>

    <main class="main-content">
       
        <nav class="horizontal-menu">
            <ul class="menu-list">
                <li class="menu-item">
                    <a href="services.html">
                        <span class="material-icons">miscellaneous_services</span>
                        <span class="menu-text">Services</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="schedule.html">
                        <span class="material-icons">calendar_today</span>
                        <span class="menu-text">Schedule</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="dashboard.html">
                        <span class="material-icons">dashboard</span>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="resources.html">
                        <span class="material-icons">library_books</span>
                        <span class="menu-text">Resources</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="about.html">
                        <span class="material-icons">info</span>
                        <span class="menu-text">About</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="session-grid">
             <div class="content-header">
            <div class="content-title">
                <h1>Live Sessions</h1>
                <p>Schedule and join your live learning sessions</p>
            </div>
        </div>
            <!-- Top Container: Upcoming Sessions -->
                    <div class="container" id="upcomingSessionsContainer">
            <div class="section-header">
                <div class="section-header-content">
                    <h2>Upcoming Sessions</h2>
                    <p>View and manage your scheduled sessions</p>
                </div>
                <div class="controls">
                    <button id="bookNewBtn" class="primary-btn">
                        <span class="material-icons">add</span>
                        Book New Session
                    </button>
                </div>
            </div>
            <div class="upcoming-sessions">
                <!-- Session cards will be added here dynamically -->
            </div>
            <div class="pagination">
                <button id="prevPage" class="pagination-btn" disabled>
                    <span class="material-icons">chevron_left</span>
                </button>
                <span id="pageInfo">Page 1 of 1</span>
                <button id="nextPage" class="pagination-btn" disabled>
                    <span class="material-icons">chevron_right</span>
                </button>
            </div>
        </div>

            <!-- Bottom Container: Session Booking -->
            <div class="session-container booking-container" id="bookingContainer">
                <div class="section-header">
                    <h2>Book a Session</h2>
                </div>
                <div class="section-actions">
                    <button class="back-btn" id="backToSessions">
                        <span class="material-icons">arrow_back</span>
                        Back to Sessions
                    </button>
                </div>
                <div class="subject-selection">
                    <h3>Select Subject</h3>
                    <ul class="subject-list">
                        <li class="subject-item" data-subject="World History">
                            <span class="material-icons">public</span>
                            World History
                        </li>
                        <li class="subject-item" data-subject="European History">
                            <span class="material-icons">account_balance</span>
                            European History
                        </li>
                        <li class="subject-item" data-subject="Ancient History">
                            <span class="material-icons">emoji_people</span>
                            Ancient History
                        </li>
                        <li class="subject-item" data-subject="Government & Politics">
                            <span class="material-icons">gavel</span>
                            Government & Politics
                        </li>
                        <li class="subject-item" data-subject="US History">
                            <span class="material-icons">flag</span>
                            US History
                        </li>
                    </ul>
                </div>

                <div class="calendar" id="sessionCalendar">
                    <div class="calendar-header">
                        <button class="calendar-nav"><span class="material-icons">chevron_left</span></button>
                        <h3>October 2025</h3>
                        <button class="calendar-nav"><span class="material-icons">chevron_right</span></button>
                    </div>
                    <div class="calendar-grid">
                        <!-- Calendar days will be populated by JavaScript -->
                    </div>
                </div>

                <div class="time-slots" id="timeSlots">
                    <h3>Available Time Slots</h3>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        9:00 AM - 10:00 AM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        10:30 AM - 11:30 AM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        1:00 PM - 2:00 PM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        2:30 PM - 3:30 PM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        4:00 PM - 5:00 PM
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: info@navigate.com</p>
                <p>Phone: (555) 123-4567</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="#" class="social-link"><span class="material-icons">facebook</span></a>
                    <a href="#" class="social-link"><span class="material-icons">twitter</span></a>
                    <a href="#" class="social-link"><span class="material-icons">linkedin</span></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Navigate. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Constants
            const ZOOM_LINK = 'https://us02web.zoom.us/j/86878301632?pwd=XFKHYWOAmJ';

            // DOM Elements
            const subjectItems = document.querySelectorAll('.subject-item');
            const calendar = document.getElementById('sessionCalendar');
            const timeSlots = document.getElementById('timeSlots');
            const calendarGrid = document.querySelector('.calendar-grid');
            const upcomingSessionsContainer = document.getElementById('upcomingSessionsContainer');
            const bookNewBtn = document.getElementById('bookNewBtn');
            const bookingContainer = document.getElementById('bookingContainer');
            const backToSessions = document.getElementById('backToSessions');
            const prevPageBtn = document.getElementById('prevPage');
            const nextPageBtn = document.getElementById('nextPage');
            const pageInfo = document.getElementById('pageInfo');
            const upcomingSessionsEl = document.querySelector('.upcoming-sessions');

            // Pagination setup
            const sessionsPerPage = 5;
            let currentPage = 1;

            // State
            let selectedSubject = '';
            let selectedDate = '';
            let selectedTime = '';

            // Helper: load only sessions booked with the specified zoom link
            function loadZoomSessions() {
                const all = JSON.parse(localStorage.getItem('sessions') || '[]');
                return all.filter(s => s.meetLink === ZOOM_LINK);
            }

            // Update pagination and display (only show zoom sessions)
            function updatePagination() {
                const sessions = loadZoomSessions();
                const totalPages = Math.max(1, Math.ceil(sessions.length / sessionsPerPage));
                if (currentPage > totalPages) currentPage = totalPages;

                pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
                prevPageBtn.disabled = currentPage === 1;
                nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;

                // Display current page sessions
                const start = (currentPage - 1) * sessionsPerPage;
                const end = start + sessionsPerPage;
                const currentSessions = sessions.slice(start, end);

                // Clear current display
                upcomingSessionsEl.innerHTML = '';

                // Add current page sessions
                currentSessions.forEach(session => {
                    const sessionCard = createSessionCard(session);
                    upcomingSessionsEl.appendChild(sessionCard);
                });

                // If no sessions, show empty state
                if (sessions.length === 0) {
                    upcomingSessionsEl.innerHTML = '<p class="empty-state">No scheduled sessions. Book a session to see it here.</p>';
                }
            }

            function createSessionCard(session) {
                const card = document.createElement('div');
                card.className = 'session-card';
                card.innerHTML = `
                    <div class="session-info">
                        <h4>${session.subject}</h4>
                        <p class="session-date">${session.date} - ${session.time}</p>
                    </div>
                    <button class="join-session-btn">
                        <span class="material-icons">video_call</span>
                        Join
                    </button>
                `;

                card.querySelector('.join-session-btn').addEventListener('click', function() {
                    // Navigate directly to the stored meet link (Zoom)
                    window.open(session.meetLink, '_blank');
                });

                return card;
            }

            // Pagination event listeners
            prevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    updatePagination();
                }
            });

            nextPageBtn.addEventListener('click', () => {
                const sessions = loadZoomSessions();
                const totalPages = Math.max(1, Math.ceil(sessions.length / sessionsPerPage));
                if (currentPage < totalPages) {
                    currentPage++;
                    updatePagination();
                }
            });

            // Initial pagination setup (will show empty state)
            updatePagination();

            // Subject selection handling
            subjectItems.forEach(item => {
                item.addEventListener('click', function() {
                    subjectItems.forEach(si => si.classList.remove('active'));
                    this.classList.add('active');
                    selectedSubject = this.dataset.subject;
                    calendar.style.display = 'block';
                    calendar.classList.add('active');
                    timeSlots.classList.remove('active');
                    timeSlots.style.display = 'none';
                    generateCalendar();
                    calendar.scrollIntoView({ behavior: 'smooth' });
                });
            });

            // Booking flow handlers
            bookNewBtn.addEventListener('click', function() {
                upcomingSessionsContainer.style.display = 'none';
                bookingContainer.style.display = 'block';
                bookingContainer.classList.add('active');

                // Reset selections
                selectedSubject = '';
                selectedDate = '';
                selectedTime = '';
                subjectItems.forEach(i => i.classList.remove('selected'));
                calendar.classList.remove('active');
                timeSlots.classList.remove('active');
                document.querySelector('.subject-selection').style.display = 'block';
                calendar.style.display = 'none';
                timeSlots.style.display = 'none';
            });

            backToSessions.addEventListener('click', function() {
                bookingContainer.style.display = 'none';
                bookingContainer.classList.remove('active');
                upcomingSessionsContainer.style.display = 'block';
                resetBookingForm();
            });

            function resetBookingForm() {
                selectedSubject = '';
                selectedDate = '';
                selectedTime = '';
                subjectItems.forEach(i => i.classList.remove('selected'));
                calendar.classList.remove('active');
                timeSlots.classList.remove('active');
            }

            // Generate calendar days
            function generateCalendar() {
                calendarGrid.innerHTML = '';
                const daysInMonth = 31; // simplified
                const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                
                // Add day headers
                days.forEach(day => {
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'calendar-day';
                    dayHeader.textContent = day;
                    dayHeader.style.fontWeight = 'bold';
                    calendarGrid.appendChild(dayHeader);
                });

                for (let i = 1; i <= daysInMonth; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = i;
                    
                    if (i >= new Date().getDate()) {
                        dayElement.addEventListener('click', function() {
                            document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
                            this.classList.add('selected');
                            selectedDate = `October ${i}, 2025`;
                            timeSlots.style.display = 'grid';
                            timeSlots.classList.add('active');
                            timeSlots.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        });
                    } else {
                        dayElement.style.color = '#ccc';
                        dayElement.style.cursor = 'not-allowed';
                    }
                    calendarGrid.appendChild(dayElement);
                }
            }

            // Time slot click handling
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.addEventListener('click', function() {
                    if (!selectedSubject || !selectedDate) return;

                    // Remove selection from all slots
                    document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedTime = this.textContent.trim();

                    // Show booking summary and confirmation
                    const bookingMessageDiv = document.createElement('div');
                    bookingMessageDiv.className = 'booking-message';
                    bookingMessageDiv.innerHTML = `
                        <div class="booking-summary" style="
                            background: #4CAF50;
                            color: white;
                            padding: 1.5rem;
                            border-radius: 8px;
                            margin-top: 2rem;
                            text-align: center;
                            animation: fadeIn 0.3s ease;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                        ">
                            <h3 style="margin-bottom: 1rem; font-size: 1.3rem;">Booking Summary</h3>
                            <div style="margin-bottom: 1.5rem;">
                                <p style="margin-bottom: 0.5rem;"><strong>Subject:</strong> ${selectedSubject}</p>
                                <p style="margin-bottom: 0.5rem;"><strong>Date:</strong> ${selectedDate}</p>
                                <p style="margin-bottom: 1rem;"><strong>Time:</strong> ${selectedTime}</p>
                            </div>
                            <button class="confirm-booking-btn" style="
                                background: white;
                                color: #4CAF50;
                                border: none;
                                padding: 10px 20px;
                                border-radius: 5px;
                                font-weight: bold;
                                cursor: pointer;
                                display: inline-flex;
                                align-items: center;
                                gap: 8px;
                                transition: all 0.3s ease;
                            ">
                                <span class="material-icons">check_circle</span>
                                Confirm Booking (Zoom)
                            </button>
                        </div>
                    `;
                    // remove previous summary if present
                    const existing = document.querySelector('.booking-message');
                    if (existing) existing.remove();
                    slot.parentElement.appendChild(bookingMessageDiv);
                    bookingMessageDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });

                    // Confirm booking: store session with the specific Zoom link and show it
                    bookingMessageDiv.querySelector('.confirm-booking-btn').addEventListener('click', function() {
                        const meetLink = ZOOM_LINK; // use required zoom link
                        // Store session details in localStorage
                        const sessions = JSON.parse(localStorage.getItem('sessions') || '[]');
                        sessions.push({
                            subject: selectedSubject,
                            date: selectedDate,
                            time: selectedTime,
                            meetLink: meetLink
                        });
                        localStorage.setItem('sessions', JSON.stringify(sessions));

                        // Return to upcoming sessions and refresh display
                        bookingContainer.style.display = 'none';
                        upcomingSessionsContainer.style.display = 'block';
                        updatePagination();

                        // Optionally open the zoom link in new tab
                        // window.open(meetLink, '_blank');
                    });
                });
            });

            // Utilities: if any other flows earlier used generateMeetLink, ensure they use ZOOM_LINK for stored sessions.
            // (This script intentionally restricts displayed sessions to those with ZOOM_LINK.)

        });
    </script>
</body>
</html>
```// filepath: c:\Users\nanda\OneDrive\Documents\GitHub\Navigate\src\view\pages\live-sessions.html
<!DOCTYPE html>
<html lang="en">
<head>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-45DLQZN7DN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-45DLQZN7DN');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Sessions - Navigate</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/live-sessions.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
       
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <a href="../../index.html">
                    <span class="material-icons">explore</span>
                    <span class="logo-text">Navigate</span>
                </a>
            </div>
            <div class="header-center">
                <h1>Navigate</h1>
            </div>
            <div class="auth-buttons">
                <button class="auth-btn">
                    <span class="material-icons">person_outline</span>
                    <span>Sign In</span>
                </button>
                <button class="auth-btn">
                    <span class="material-icons">person_add</span>
                    <span>Sign Up</span>
                </button>
            </div>
        </div>
    </header>

    <main class="main-content">
       
        <nav class="horizontal-menu">
            <ul class="menu-list">
                <li class="menu-item">
                    <a href="services.html">
                        <span class="material-icons">miscellaneous_services</span>
                        <span class="menu-text">Services</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="schedule.html">
                        <span class="material-icons">calendar_today</span>
                        <span class="menu-text">Schedule</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="dashboard.html">
                        <span class="material-icons">dashboard</span>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="resources.html">
                        <span class="material-icons">library_books</span>
                        <span class="menu-text">Resources</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="about.html">
                        <span class="material-icons">info</span>
                        <span class="menu-text">About</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="session-grid">
             <div class="content-header">
            <div class="content-title">
                <h1>Live Sessions</h1>
                <p>Schedule and join your live learning sessions</p>
            </div>
        </div>
            <!-- Top Container: Upcoming Sessions -->
                    <div class="container" id="upcomingSessionsContainer">
            <div class="section-header">
                <div class="section-header-content">
                    <h2>Upcoming Sessions</h2>
                    <p>View and manage your scheduled sessions</p>
                </div>
                <div class="controls">
                    <button id="bookNewBtn" class="primary-btn">
                        <span class="material-icons">add</span>
                        Book New Session
                    </button>
                </div>
            </div>
            <div class="upcoming-sessions">
                <!-- Session cards will be added here dynamically -->
            </div>
            <div class="pagination">
                <button id="prevPage" class="pagination-btn" disabled>
                    <span class="material-icons">chevron_left</span>
                </button>
                <span id="pageInfo">Page 1 of 1</span>
                <button id="nextPage" class="pagination-btn" disabled>
                    <span class="material-icons">chevron_right</span>
                </button>
            </div>
        </div>

            <!-- Bottom Container: Session Booking -->
            <div class="session-container booking-container" id="bookingContainer">
                <div class="section-header">
                    <h2>Book a Session</h2>
                </div>
                <div class="section-actions">
                    <button class="back-btn" id="backToSessions">
                        <span class="material-icons">arrow_back</span>
                        Back to Sessions
                    </button>
                </div>
                <div class="subject-selection">
                    <h3>Select Subject</h3>
                    <ul class="subject-list">
                        <li class="subject-item" data-subject="World History">
                            <span class="material-icons">public</span>
                            World History
                        </li>
                        <li class="subject-item" data-subject="European History">
                            <span class="material-icons">account_balance</span>
                            European History
                        </li>
                        <li class="subject-item" data-subject="Ancient History">
                            <span class="material-icons">emoji_people</span>
                            Ancient History
                        </li>
                        <li class="subject-item" data-subject="Government & Politics">
                            <span class="material-icons">gavel</span>
                            Government & Politics
                        </li>
                        <li class="subject-item" data-subject="US History">
                            <span class="material-icons">flag</span>
                            US History
                        </li>
                    </ul>
                </div>

                <div class="calendar" id="sessionCalendar">
                    <div class="calendar-header">
                        <button class="calendar-nav"><span class="material-icons">chevron_left</span></button>
                        <h3>October 2025</h3>
                        <button class="calendar-nav"><span class="material-icons">chevron_right</span></button>
                    </div>
                    <div class="calendar-grid">
                        <!-- Calendar days will be populated by JavaScript -->
                    </div>
                </div>

                <div class="time-slots" id="timeSlots">
                    <h3>Available Time Slots</h3>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        9:00 AM - 10:00 AM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        10:30 AM - 11:30 AM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        1:00 PM - 2:00 PM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        2:30 PM - 3:30 PM
                    </div>
                    <div class="time-slot">
                        <span class="material-icons">schedule</span>
                        4:00 PM - 5:00 PM
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: info@navigate.com</p>
                <p>Phone: (555) 123-4567</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="#" class="social-link"><span class="material-icons">facebook</span></a>
                    <a href="#" class="social-link"><span class="material-icons">twitter</span></a>
                    <a href="#" class="social-link"><span class="material-icons">linkedin</span></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Navigate. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Constants
            const ZOOM_LINK = 'https://us02web.zoom.us/j/86878301632?pwd=XFKHYWOAmJ';

            // DOM Elements
            const subjectItems = document.querySelectorAll('.subject-item');
            const calendar = document.getElementById('sessionCalendar');
            const timeSlots = document.getElementById('timeSlots');
            const calendarGrid = document.querySelector('.calendar-grid');
            const upcomingSessionsContainer = document.getElementById('upcomingSessionsContainer');
            const bookNewBtn = document.getElementById('bookNewBtn');
            const bookingContainer = document.getElementById('bookingContainer');
            const backToSessions = document.getElementById('backToSessions');
            const prevPageBtn = document.getElementById('prevPage');
            const nextPageBtn = document.getElementById('nextPage');
            const pageInfo = document.getElementById('pageInfo');
            const upcomingSessionsEl = document.querySelector('.upcoming-sessions');

            // Pagination setup
            const sessionsPerPage = 5;
            let currentPage = 1;

            // State
            let selectedSubject = '';
            let selectedDate = '';
            let selectedTime = '';

            // Helper: load only sessions booked with the specified zoom link
            function loadZoomSessions() {
                const all = JSON.parse(localStorage.getItem('sessions') || '[]');
                return all.filter(s => s.meetLink === ZOOM_LINK);
            }

            // Update pagination and display (only show zoom sessions)
            function updatePagination() {
                const sessions = loadZoomSessions();
                const totalPages = Math.max(1, Math.ceil(sessions.length / sessionsPerPage));
                if (currentPage > totalPages) currentPage = totalPages;

                pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
                prevPageBtn.disabled = currentPage === 1;
                nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;

                // Display current page sessions
                const start = (currentPage - 1) * sessionsPerPage;
                const end = start + sessionsPerPage;
                const currentSessions = sessions.slice(start, end);

                // Clear current display
                upcomingSessionsEl.innerHTML = '';

                // Add current page sessions
                currentSessions.forEach(session => {
                    const sessionCard = createSessionCard(session);
                    upcomingSessionsEl.appendChild(sessionCard);
                });

                // If no sessions, show empty state
                if (sessions.length === 0) {
                    upcomingSessionsEl.innerHTML = '<p class="empty-state">No scheduled sessions. Book a session to see it here.</p>';
                }
            }

            function createSessionCard(session) {
                const card = document.createElement('div');
                card.className = 'session-card';
                card.innerHTML = `
                    <div class="session-info">
                        <h4>${session.subject}</h4>
                        <p class="session-date">${session.date} - ${session.time}</p>
                    </div>
                    <button class="join-session-btn">
                        <span class="material-icons">video_call</span>
                        Join
                    </button>
                `;

                card.querySelector('.join-session-btn').addEventListener('click', function() {
                    // Navigate directly to the stored meet link (Zoom)
                    window.open(session.meetLink, '_blank');
                });

                return card;
            }

            // Pagination event listeners
            prevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    updatePagination();
                }
            });

            nextPageBtn.addEventListener('click', () => {
                const sessions = loadZoomSessions();
                const totalPages = Math.max(1, Math.ceil(sessions.length / sessionsPerPage));
                if (currentPage < totalPages) {
                    currentPage++;
                    updatePagination();
                }
            });

            // Initial pagination setup (will show empty state)
            updatePagination();

            // Subject selection handling
            subjectItems.forEach(item => {
                item.addEventListener('click', function() {
                    subjectItems.forEach(si => si.classList.remove('active'));
                    this.classList.add('active');
                    selectedSubject = this.dataset.subject;
                    calendar.style.display = 'block';
                    calendar.classList.add('active');
                    timeSlots.classList.remove('active');
                    timeSlots.style.display = 'none';
                    generateCalendar();
                    calendar.scrollIntoView({ behavior: 'smooth' });
                });
            });

            // Booking flow handlers
            bookNewBtn.addEventListener('click', function() {
                upcomingSessionsContainer.style.display = 'none';
                bookingContainer.style.display = 'block';
                bookingContainer.classList.add('active');

                // Reset selections
                selectedSubject = '';
                selectedDate = '';
                selectedTime = '';
                subjectItems.forEach(i => i.classList.remove('selected'));
                calendar.classList.remove('active');
                timeSlots.classList.remove('active');
                document.querySelector('.subject-selection').style.display = 'block';
                calendar.style.display = 'none';
                timeSlots.style.display = 'none';
            });

            backToSessions.addEventListener('click', function() {
                bookingContainer.style.display = 'none';
                bookingContainer.classList.remove('active');
                upcomingSessionsContainer.style.display = 'block';
                resetBookingForm();
            });

            function resetBookingForm() {
                selectedSubject = '';
                selectedDate = '';
                selectedTime = '';
                subjectItems.forEach(i => i.classList.remove('selected'));
                calendar.classList.remove('active');
                timeSlots.classList.remove('active');
            }

            // Generate calendar days
            function generateCalendar() {
                calendarGrid.innerHTML = '';
                const daysInMonth = 31; // simplified
                const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                
                // Add day headers
                days.forEach(day => {
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'calendar-day';
                    dayHeader.textContent = day;
                    dayHeader.style.fontWeight = 'bold';
                    calendarGrid.appendChild(dayHeader);
                });

                for (let i = 1; i <= daysInMonth; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = i;
                    
                    if (i >= new Date().getDate()) {
                        dayElement.addEventListener('click', function() {
                            document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
                            this.classList.add('selected');
                            selectedDate = `October ${i}, 2025`;
                            timeSlots.style.display = 'grid';
                            timeSlots.classList.add('active');
                            timeSlots.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        });
                    } else {
                        dayElement.style.color = '#ccc';
                        dayElement.style.cursor = 'not-allowed';
                    }
                    calendarGrid.appendChild(dayElement);
                }
            }

            // Time slot click handling
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.addEventListener('click', function() {
                    if (!selectedSubject || !selectedDate) return;

                    // Remove selection from all slots
                    document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedTime = this.textContent.trim();

                    // Show booking summary and confirmation
                    const bookingMessageDiv = document.createElement('div');
                    bookingMessageDiv.className = 'booking-message';
                    bookingMessageDiv.innerHTML = `
                        <div class="booking-summary" style="
                            background: #4CAF50;
                            color: white;
                            padding: 1.5rem;
                            border-radius: 8px;
                            margin-top: 2rem;
                            text-align: center;
                            animation: fadeIn 0.3s ease;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                        ">
                            <h3 style="margin-bottom: 1rem; font-size: 1.3rem;">Booking Summary</h3>
                            <div style="margin-bottom: 1.5rem;">
                                <p style="margin-bottom: 0.5rem;"><strong>Subject:</strong> ${selectedSubject}</p>
                                <p style="margin-bottom: 0.5rem;"><strong>Date:</strong> ${selectedDate}</p>
                                <p style="margin-bottom: 1rem;"><strong>Time:</strong> ${selectedTime}</p>
                            </div>
                            <button class="confirm-booking-btn" style="
                                background: white;
                                color: #4CAF50;
                                border: none;
                                padding: 10px 20px;
                                border-radius: 5px;
                                font-weight: bold;
                                cursor: pointer;
                                display: inline-flex;
                                align-items: center;
                                gap: 8px;
                                transition: all 0.3s ease;
                            ">
                                <span class="material-icons">check_circle</span>
                                Confirm Booking (Zoom)
                            </button>
                        </div>
                    `;
                    // remove previous summary if present
                    const existing = document.querySelector('.booking-message');
                    if (existing) existing.remove();
                    slot.parentElement.appendChild(bookingMessageDiv);
                    bookingMessageDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });

                    // Confirm booking: store session with the specific Zoom link and show it
                    bookingMessageDiv.querySelector('.confirm-booking-btn').addEventListener('click', function() {
                        const meetLink = ZOOM_LINK; // use required zoom link
                        // Store session details in localStorage
                        const sessions = JSON.parse(localStorage.getItem('sessions') || '[]');
                        sessions.push({
                            subject: selectedSubject,
                            date: selectedDate,
                            time: selectedTime,
                            meetLink: meetLink
                        });
                        localStorage.setItem('sessions', JSON.stringify(sessions));

                        // Return to upcoming sessions and refresh display
                        bookingContainer.style.display = 'none';
                        upcomingSessionsContainer.style.display = 'block';
                        updatePagination();

                        // Optionally open the zoom link in new tab
                        // window.open(meetLink, '_blank');
                    });
                });
            });

            // Utilities: if any other flows earlier used generateMeetLink, ensure they use ZOOM_LINK for stored sessions.
            // (This script intentionally restricts displayed sessions to those with ZOOM_LINK.)

        });
    </script>
</body>
</html>